<link rel="stylesheet" type="text/css" href="style.css">
<h1 class="title">JavaScript Drum Kit</h1>
<div class="keys">
    <p class="note">Use keyboard to play drum</p>
    <div data-key="65" class="key">
        <kbd>A</kbd>
        <span class="sound">clap</span>
    </div>
    <div data-key="83" class="key">
        <kbd>S</kbd>
        <span class="sound">hihat</span>
    </div>
    <div data-key="68" class="key">
        <kbd>D</kbd>
        <span class="sound">kick</span>
    </div>
    <div data-key="70" class="key">
        <kbd>F</kbd>
        <span class="sound">openhat</span>
    </div>
    <div data-key="71" class="key">
        <kbd>G</kbd>
        <span class="sound">boom</span>
    </div>
    <div data-key="72" class="key">
        <kbd>H</kbd>
        <span class="sound">ride</span>
    </div>
    <div data-key="74" class="key">
        <kbd>J</kbd>
        <span class="sound">snare</span>
    </div>
    <div data-key="75" class="key">
        <kbd>K</kbd>
        <span class="sound">tom</span>
    </div>
    <div data-key="76" class="key">
        <kbd>L</kbd>
        <span class="sound">tink</span>
    </div>
</div>
<audio data-key="65" src="https://kingrayhan.github.io/javascript-drum-kit/sounds/clap.wav"></audio>
<audio data-key="83" src="https://kingrayhan.github.io/javascript-drum-kit/sounds/hihat.wav"></audio>
<audio data-key="68" src="https://kingrayhan.github.io/javascript-drum-kit/sounds/kick.wav"></audio>
<audio data-key="70" src="https://kingrayhan.github.io/javascript-drum-kit/sounds/openhat.wav"></audio>
<audio data-key="71" src="https://kingrayhan.github.io/javascript-drum-kit/sounds/boom.wav"></audio>
<audio data-key="72" src="https://kingrayhan.github.io/javascript-drum-kit/sounds/ride.wav"></audio>
<audio data-key="74" src="https://kingrayhan.github.io/javascript-drum-kit/sounds/snare.wav"></audio>
<audio data-key="75" src="https://kingrayhan.github.io/javascript-drum-kit/sounds/tom.wav"></audio>
<audio data-key="76" src="https://kingrayhan.github.io/javascript-drum-kit/sounds/tink.wav"></audio>
<script>
  // Play drum by keyboard press
window.addEventListener('keydown' , playDrum);
function playDrum(e) {
    const audio = document.querySelector(`audio[data-key="${e.keyCode}"]`);
    if(!audio) return;
    audio.currentTime = 0;
    audio.play();
    const key = document.querySelector(`.key[data-key="${e.keyCode}"]`);
    key.classList.add('playing');
};

// Remove .playing class after transition action over
const keys = document.querySelectorAll('.key');
keys.forEach( key => key.addEventListener('transitionend' , removePlayingClass ) );
function removePlayingClass(e)
{
    this.classList.remove('playing');
}


// Play music by mouse click
keys.forEach( key => key.addEventListener('click' , playByMouse ) );
function playByMouse(e)
{
    const keyCode = this.getAttribute('data-key');
	const audio = document.querySelector(`audio[data-key="${keyCode}"]`);
	audio.currentTime = 0;
	audio.play();
	const key = document.querySelector(`.key[data-key="${keyCode}"]`);
    key.classList.add('playing');
}
</script>
